% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Formalismes décrivant les langages rationnels}

  \tf{
    \begin{tikzpicture}
      \tikzset{box/.style={structure, smBox, text width=24mm, minimum height=12mm},}
      \node[box] (exp) at (0,5.2) {Expression rationnelle};
      \node[box] (nfa) at (4,5.2) {Automate fini non-déterministe};
      \node[box] (dfa) at (8,5.2) {Automate fini déterministe};
      \node[box] (lrg) at (6,3.0) {Grammaire\\ rationnelle\\ à gauche};
      \node[box] (rrg) at (2,3.0) {Grammaire\\ rationnelle\\ à droite};
      \node[box] (llg) at (6,0.8) {Grammaire\\ linéaire   \\ à gauche};
      \node[box] (rlg) at (2,0.8) {Grammaire\\ linéaire   \\ à droite};

      \node[example, above, yshift=2mm] at (exp.north) {$a^+ b$};
      \node[example, above, yshift=2mm, xshift=-3mm] at (nfa.north) {\small
        \begin{tikzpicture}[smAutomaton]
          \smState[\smInitial] (a) at (0.0,0) {$A$};
          \smState[            ] (b) at (1.1,0) {$B$};
          \smState[\smAccepting] (c) at (2.2,0) {$C$};
          \smPath (a) edge [loop above] node {$a$} (a);
          \smPath (a) edge              node {$a$} (b);
          \smPath (b) edge              node {$b$} (c);
        \end{tikzpicture}
      };
      \node[example, above, yshift=2mm] at (dfa.north) {\small
        \begin{tikzpicture}[smAutomaton]
          \smState[\smInitialAbove] (a) at (0.0,0) {$A$};
          \smState[            ] (b) at (1.1,0) {$B$};
          \smState[\smAccepting] (c) at (2.2,0) {$C$};
          \smPath (b) edge [loop above] node {$a$} (b);
          \smPath (a) edge              node {$a$} (b);
          \smPath (b) edge              node {$b$} (c);
        \end{tikzpicture}
      };
      \node[example, left] at (rrg.west) {
        $\left\{\begin{array}{@{\,}r@{~\rightarrow~}l@{\,}}
        S & aS \mid aB\\
        B & b\\
        \end{array}\right.$
      };
      \node[example, left] at (rlg.west) {
        $\left\{\begin{array}{@{\,}r@{~\rightarrow~}l@{\,}}
        S & aS \mid ab\\
        \end{array}\right.$
      };
      \node[example, right] at (lrg.east) {
        $\left\{\begin{array}{@{\,}r@{~\rightarrow~}l@{\,}}
        S & Bb\\
        B & Ba \mid a\\
        \end{array}\right.$
      };
      \node[example, right] at (llg.east) {
        $\left\{\begin{array}{@{\,}r@{~\rightarrow~}l@{\,\mid\,}l@{\,}}
        S & ab & Bab\\
        B & Ba & \varepsilon\\
        \end{array}\right.$
      };
      
      \footnotesize
      \smPath (exp) edge[bend left=3mm] node[above] {Thompson} (nfa);
      \smPath (nfa) edge[bend left=3mm] node[below] {Arden} (exp);
      \smPath (nfa) edge[bend left=3mm] node[above] {\scriptsize Rabin, Scott} (dfa);
      \smPath (dfa) edge[bend left=3mm] node[below] {inclusion} (nfa);
      \smPath (lrg) edge[bend left=5mm] node[right] {inclusion} (llg);
      \smPath (llg) edge[bend left=5mm] node[left ] {direct} (lrg);
      \smPath (rrg) edge[bend left=5mm] node[right] {inclusion} (rlg);
      \smPath (rlg) edge[bend left=5mm] node[left ] {direct} (rrg);
      
      \path[latex-latex] (rrg) edge node[left, xshift=-1mm] {direct} (nfa);
      \path[latex-latex] (lrg) edge node[right, xshift=1mm] {miroir} (nfa);
    \end{tikzpicture}
  }
  
\end{frame}

\endgroup
