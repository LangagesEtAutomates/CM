% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Formalismes décrivant les langages rationnels}

  \tf{
    \begin{tikzpicture}
      \small
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (exp) at (4.0,7.0) {Expression\\ rationnelle};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (nfa) at (4.0,5.0) {Automate fini\\ non-déterministe};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (dfa) at (8.0,5.0) {Automate fini\\ déterministe};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (lrg) at (6.0,3.0) {Grammaire\\ rationnelle gauche};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (rrg) at (2.0,3.0) {Grammaire\\ rationnelle droite};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (llg) at (6.0,1.0) {Grammaire\\ linéaire gauche};
      \node[structure, smBox, minimum width=24mm, minimum height=10mm] (rlg) at (2.0,1.0) {Grammaire\\ linéaire droite};


      \node[example, left] at (exp.west) {
        $a^+ b$
      };
      \node[example, left, xshift=-2mm] at (nfa.west) {
        \begin{tikzpicture}[smAutomaton]
          \smState[\smInitial  ] (a) at (0.0,0) {$A$};
          \smState[            ] (b) at (1.2,0) {$B$};
          \smState[\smAccepting] (c) at (2.4,0) {$C$};
          \smPath (a) edge [loop above] node {$a$} (a);
          \smPath (a) edge              node {$a$} (b);
          \smPath (b) edge              node {$b$} (c);
          \path[opacity=0] (a) edge [loop below] node {$a$} (a);
        \end{tikzpicture}
      };
      \node[example, above, yshift=1mm] at (dfa.north) {
        \begin{tikzpicture}[smAutomaton]
          \smState[\smInitial  ] (a) at (0.0,0) {$A$};
          \smState[            ] (b) at (1.2,0) {$B$};
          \smState[\smAccepting] (c) at (2.4,0) {$C$};
          \smPath (b) edge [loop above] node {$a$} (b);
          \smPath (a) edge              node {$a$} (b);
          \smPath (b) edge              node {$b$} (c);
        \end{tikzpicture}
      };
      \node[example, left] at (rrg.west) {
        $\left\{\begin{array}{rcl}
        S & \rightarrow & aS \mid aB\\
        B & \rightarrow & b\\
        \end{array}\right.$
      };
      \node[example, left] at (rlg.west) {
        $\left\{\begin{array}{rcl}
        S & \rightarrow & aS \mid ab\\
        \end{array}\right.$
      };
      \node[example, right] at (lrg.east) {
        $\left\{\begin{array}{rcl}
        S & \rightarrow & Bb\\
        B & \rightarrow & a \mid Ba\\
        \end{array}\right.$
      };
      \node[example, right] at (llg.east) {
        $\left\{\begin{array}{rcl}
        S & \rightarrow & ab \mid Bab\\
        B & \rightarrow & Ba \mid \varepsilon\\
        \end{array}\right.$
      };
      
      \scriptsize
      \smPath (exp) edge[bend left=5mm] node[right] {Thompson} (nfa);
      \smPath (nfa) edge[bend left=5mm] node[left] {Arden} (exp);
      \smPath (nfa) edge[bend left=3mm] node[above] {Rabin \& Scott} (dfa);
      \smPath (dfa) edge[bend left=3mm] node[below] {inclusion} (nfa);
      \smPath (lrg) edge[bend left=5mm] node[right] {inclusion} (llg);
      \smPath (llg) edge[bend left=5mm] node[left] {direct} (lrg);
      \smPath (rrg) edge[bend left=5mm] node[right] {inclusion} (rlg);
      \smPath (rlg) edge[bend left=5mm] node[left] {direct} (rrg);
      
      \path[latex-latex] (rrg) edge node[right] {direct} (nfa);
      \path[latex-latex] (lrg) edge node[left] {miroir} (nfa);

    \end{tikzpicture}
  }
  
\end{frame}
\endgroup
