% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple : le langage $\{a^n b^n \mid n\in \mathbb{N}\}$}

  \on[top]{\small
    $\left\langle \{a, b\}, \{A, \diamond\}, \{0, 1, 2\}, \{0\}, \{2\},  \diamond, \left\{
    \begin{array}{@{~\langle \langle~}c@{,~}c@{,~}c@{\rangle, \langle}c@{,~}c@{~\rangle \rangle~}}
      0 & a           & \varepsilon &  0 & A            \\ 
      0 & b           & A           &  1 & \varepsilon  \\        
      0 & \varepsilon & \diamond    &  2 & \varepsilon  \\        
      1 & b           & A           &  1 & \varepsilon  \\        
      1 & \varepsilon & \diamond    &  2 & \varepsilon  \\        
    \end{array}
    \right\} \right\rangle$
  }

  \on[y=-20mm, x=-40mm]{
    \begin{tikzpicture}[stack]
      \cell{\only<1-5>{$\diamond$}}  
      \cell{\onlyb<2-4>{$A$}}        
      \cell{\onlyb<3>{$A$}}          
    \end{tikzpicture}
  }

  \on[y=0mm, x=15mm]{
    \begin{tikzpicture}[word]
        \cell{$a$} \smhead[on=<1>, structure]
        \cell{$a$} \smhead[ob=<2>, structure]
        \cell{$b$} \smhead[ob=<3>, structure]
        \cell{$b$} \smhead[ob=<4>, structure]
    \end{tikzpicture}
  }

  \on[y=-25mm, x=15mm]{
    \begin{tikzpicture}[pushdown]
      \state[initial,   structure ob=<-3> ] (a) at (0,0) {$0$}; 
      \state[           structure ob=<4-5>] (b) at (1,0) {$1$}; 
      \state[accepting, structure ob=<6>  ] (c) at (2,0) {$2$}; 
 
      \path                     (a) edge[bend right] node[below] {\smPAtrans{\varepsilon}{\diamond}{\varepsilon}} (c);
      \path[structure ob=<1-2>] (a) edge[loop above] node        {\smPAtrans{a}{\varepsilon}{A}}                  (a);
      \path[structure ob=<3>]   (a) edge             node[above] {\smPAtrans{b}{A}{\varepsilon}}                  (b);
      \path[structure ob=<4>]   (b) edge[loop above] node        {\smPAtrans{b}{A}{\varepsilon}}                  (b);
      \path[structure ob=<5>]   (b) edge             node[above] {\smPAtrans{\varepsilon}{\diamond}{\varepsilon}} (c);
    \end{tikzpicture}
  }
  
\end{frame}

\endgroup
