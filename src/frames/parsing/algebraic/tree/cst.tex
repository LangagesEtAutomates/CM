% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Arbre de dérivation }

  \tfBlock[top=-3mm]{Arbre de dérivation (ou CST : \emph{Concrete Syntax Tree})}{
    Soit \alert{$G = \langle \Sigma, \Gamma, S, R \rangle$} une grammaire algébrique.\\
    Chaque génération de $G$ peut être représentée par un \structure{arbre de dérivation}.
    \begin{description}[N\oe ud interne :]
    \item[Racine :] l'axiome $S$
    \item[N\oe ud interne :] Symbole non-terminal de $\Gamma$
    \item[Feuille :] Symbole terminal de $\Sigma$, ou $\varepsilon$ ($\varepsilon$ ne peut pas avoir de frère)
    \item[Filiation :] Si les fils de $A$ sont $a_1$, ..., $a_n$, alors $A \rightarrow a_1...a_n \in R$
    \end{description}
    Le mot généré est alors la concaténation des feuilles de l'arbre.
  }

  \tfExampleBlock[bottom]{Exemple}{
    \example{$G = \left\langle \{a, b, c\}, \{S, B\}, S, \left\{\begin{array}{rcl} S &\rightarrow & aSb \,|\, B \\ B &\rightarrow & cB \,|\, \varepsilon \end{array}\right\} \right\rangle$}.
    \begin{itemize}
    \item Génération de $aacbb$ :
    \begin{itemize}
    \item $\structure{S}
      \uncover<2-|handout>{\vdash \alert{a}\structure{S}\alert{b}}
      \uncover<3-|handout>{\vdash \alert{aa}\structure{S}\alert{bb}}
      \uncover<4-|handout>{\vdash \alert{aa}\structure{B}\alert{bb}}
      \uncover<5-|handout>{\vdash \alert{aac}\structure{B}\alert{bb}}
      \uncover<6-|handout>{\vdash \alert{aacbb}}$
    \end{itemize}
    \item Dérivation de $aacbb$ (à droite) :
    \end{itemize}
  }

  \tf[bottom, x=40mm] {\small
    \begin{tikzpicture}

      \node[anchor=base,structure] (a) at (5.00,3.5) {$S$};
      \uncover<2-|handout>{
        \node[anchor=base,alert]     (b) at (4.00,2.8) {$a$};
        \node[anchor=base,structure] (c) at (5.00,2.8) {$S$};
        \node[anchor=base,alert]     (d) at (6.00,2.8) {$b$};
        \path[-latex] (a) edge (b);
        \path[-latex] (a) edge (c);
        \path[-latex] (a) edge (d);
      }
      \uncover<3-|handout>{
        \node[anchor=base,alert]     (e) at (4.00,2.1) {$a$};
        \node[anchor=base,structure] (f) at (5.00,2.1) {$S$};
        \node[anchor=base,alert]     (g) at (6.00,2.1) {$b$};
        \path[-latex] (c) edge (e);
        \path[-latex] (c) edge (f);
        \path[-latex] (c) edge (g);
      }      
      \uncover<4-|handout>{
        \node[anchor=base,structure] (h) at (5.00,1.4) {$B$};
        \path[-latex] (f) edge (h);
      }      
      \uncover<5-|handout>{
        \node[anchor=base,alert]     (i) at (4.00,0.7) {$c$};
        \node[anchor=base,structure] (j) at (5.00,0.7) {$B$};
        \path[-latex] (h) edge (i);
        \path[-latex] (h) edge (j);
      }      
      \uncover<6-|handout>{
        \node[anchor=base,example]   (k) at (6.00,0.7) {$\varepsilon$};
        \path[-latex] (j) edge (k);
      }      

    \end{tikzpicture}
  }

\end{frame}

\endgroup
