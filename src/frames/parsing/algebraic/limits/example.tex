% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple d'utilisation du lemme de pompage}
  \small
  \vspace{-3mm}
  \begin{tikzpicture}
    \draw (0,10) node[below]{\begin{minipage}{\textwidth}
        \begin{block}{Montrer que $\{a^nb^nc^n : n\in \mathbb{N}\}$ n'est pas algébrique}
          
          Soient $\Sigma = \{a, b, c\}$ et $L = \{a^nb^nc^n : n\in \mathbb{N}\}$.
          
          \uncover<2->{
            Supposons (par l'absurde) que $L$ est algébrique.
          }
          \uncover<3->{
            $L$ vérifie le lemme de pompage :
            
            \vspace{-3mm}
            $$
            \begin{array}{c}
              \structure<4->{\exists N\in \mathbb{N}}, \alert<5->{\forall u\in L}, |u| \ge N \Rightarrow (\structure<6->{\exists v, w, x, y, z\in \Sigma^\star}, \\
              u = v \cdot w \cdot x\cdot y \cdot z \land w \cdot y\neq \varepsilon \land |wxy| \le N \land \alert<7->{\forall i \in \mathbb{N}}, v\cdot w^i\cdot x\cdot y^i \cdot z \in L)
            \end{array}
            $$
            \vspace{-1mm}
          }
          
          \uncover<4->{%
            \structure{Soit $N$ donné par le lemme pompage}. \\
          }\uncover<5->{%
            \alert{Posons $u = a^N b^N c^N$}. 
          }\uncover<6->{%
            On a bien $u\in L$ et $|u| = 3N \ge N$. \\
          }\uncover<7->{%
            \structure{Soit $v \cdot w \cdot x\cdot y \cdot z$ la décomposition de $u$ donnée par le lemme de pompage}. 
          }
          
          \uncover<8- |handout:2>{
            \vspace{1mm}
            \begin{itemize}
            \item Comme $wy \neq \varepsilon$, $\alpha = wy[1] \in \Sigma$ est une lettre de $wy$.
            \item Comme $|wxy| \le N$, il existe $\beta \in \Sigma$ tel que $\beta$ n'est pas une lettre de $wy$. 
            \item \alert{Posons $i=2$}. $|v w^2 x y^2  z|_\alpha > |v w^2 x y^2  z|_\beta$, donc $v w^2 x y^2  z\notin L$. 
            \end{itemize}
            Absurde ! Donc $L$ n'est pas algébrique. 
          }
        \end{block}
    \end{minipage}};

    \mode<beamer> {
    \uncover<-7>{
      \draw (0,5.5) node[below]{\begin{minipage}{\textwidth}
          \begin{center}
            \tikz\draw[example] (0,0) -- (5,0);\\
          \end{center}
          \vspace{-5mm}
          \begin{exampleblock}{Brouillon}
            \example{On veut démontrer :} 
            \only<1>{ $L \notin \textsc{alg}_\Sigma$}
            \only<2-4,6->{ Contradiction}
            \only<5>{ $u\in L \land |u| \ge N$}

            \example{On sait :} 
            \begin{itemize}
            \item 
              \only<-2>{\hspace{-1.5mm}$\begin{array}[t]{l}
                  \alert{\forall L \in \textsc{alg}_\Sigma}, \exists N\in \mathbb{N}, \forall u\in L, |u| \ge N \Rightarrow (\exists v, w, x, y, z\in \Sigma^\star, \\
                  u = v w x y z \land w y\neq \varepsilon \land |wxy| \le N \land \forall i \in \mathbb{N}, v w^i x y^i z \in L)
                \end{array}$}
              \only<3>{$\hspace{-1.5mm}\begin{array}[t]{l}
                  \structure{\exists N\in \mathbb{N}}, \forall u\in L, |u| \ge N \Rightarrow (\exists v, w, x, y, z\in \Sigma^\star, \\
                  u = v w x y z \land w y\neq \varepsilon \land |wxy| \le N \land \forall i \in \mathbb{N}, v w^i x y^i z \in L)
                \end{array}$}
              \only<4>{$\hspace{-1.5mm}\begin{array}[t]{l}
                  \alert{\forall u\in L, |u| \ge N \Rightarrow} (\exists v, w, x, y, z\in \Sigma^\star, \\
                  u = v w x y z \land w y\neq \varepsilon \land |wxy| \le N \land \forall i \in \mathbb{N}, v w^i x y^i z \in L)
                \end{array}$}
              \only<5>{$\hspace{-1.5mm}\begin{array}[t]{l}
                  \alert{(u\in L \land |u| \ge N) \Rightarrow} (\exists v, w, x, y, z\in \Sigma^\star, \\
                  u = v w x y z \land w y\neq \varepsilon \land |wxy| \le N \land \forall i \in \mathbb{N}, v w^i x y^i z \in L)
                \end{array}$}
              \only<6>{$\structure{\exists v, w, x, y, z\in \Sigma^\star}, u = v w x y z \land w y\neq \varepsilon \land |wxy| \le N \land \forall i \in \mathbb{N}, v w^i x y^i z \in L$}
              \only<7->{$\forall i \in \mathbb{N}, v w^i x y^i  z \in L$}
            \end{itemize}

            \vspace{-1mm}
            \begin{minipage}{2.5cm}
              \begin{itemize}
              \item<2-> $L \in \textsc{alg}_\Sigma$
              \item<4-> $N \in \mathbb{N}$
              \item<7-> $wy\neq \varepsilon$
              \end{itemize}
            \end{minipage}
            \begin{minipage}{3cm}
              \begin{itemize}
              \item<7-> $v, w, x, y, z\in \Sigma^\star$
              \item<7-> $u = v w x y z$
              \item<7-> $\alert{|wxy| \le N}$
              \end{itemize}
            \end{minipage}
          \end{exampleblock}
      \end{minipage}};}
    }

    \mode<handout>{
    \uncover<handout:1> {
      \draw (0,5.5) node[below]{\begin{minipage}{\textwidth}
          \begin{center}
            \tikz\draw[example] (0,0) -- (5,0);\\
          \end{center}
          \vspace{-5mm}
          \begin{exampleblock}{Brouillon}
            \example{On veut démontrer :} Contradiction
 
            \example{On sait :} 
            \begin{itemize}
            \item $\forall i \in \mathbb{N}, v w^i x y^i  z \in L$
            \end{itemize}
 
            \vspace{-1mm}
            \begin{minipage}{2.5cm}
              \begin{itemize}
              \item $L \in \textsc{alg}_\Sigma$
              \item $N \in \mathbb{N}$
              \item $wy\neq \varepsilon$
              \end{itemize}
            \end{minipage}
            \begin{minipage}{3cm}
              \begin{itemize}
              \item $v, w, x, y, z\in \Sigma^\star$
              \item $u = v w x y z$
              \item $\alert{|wxy| \le N}$
              \end{itemize}
            \end{minipage}
          \end{exampleblock}
      \end{minipage}};
    }
    }
    
    \draw<7|handout:1> (3,3.25) node{\scalebox{1}{\begin{tikzpicture}
          \draw [alert] (5,5) node{$u = a \cdot ...  \cdot a  \cdot b  \cdot ...  \cdot b  \cdot c  \cdot ...  \cdot c$};
          
          \draw [decorate, decoration={brace, amplitude=5pt}] (3.6 ,5.15) -- (4.6 ,5.15) node[midway,yshift=4mm]{$N$};
          \draw [decorate, decoration={brace, amplitude=5pt}] (4.85,5.15) -- (5.85,5.15) node[midway,yshift=4mm]{$N$};
          \draw [decorate, decoration={brace, amplitude=5pt}] (6.1 ,5.15) -- (7.1 ,5.15) node[midway,yshift=4mm]{$N$};
          
          \draw [decorate, decoration={brace, amplitude=5pt, mirror}] (4.3,4.85) -- (5.1, 4.85) node[midway,yshift=-4mm]{$|wxy|\le N$};
          \draw [decorate, decoration={brace, amplitude=5pt, mirror}] (5.5,4.85) -- (6.3, 4.85); 

          \draw (5,3.8) node{\structure{$wxy \in a^\star b^\star | b^\star c^\star$}};
    \end{tikzpicture}}};
  \end{tikzpicture}
\end{frame}

\endgroup
