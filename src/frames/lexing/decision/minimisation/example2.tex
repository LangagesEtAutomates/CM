% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple complet}

  \on[x=-.25\textwidth, top]{
    \begin{tikzpicture}[automaton, x=10mm, y=10mm]
      \state[fill=alert!10, initial                           ] (0) at (0,1) {0};
      \state[fill=alert!10, apply on={<4->}{fill=structure!10}] (1) at (1,2) {1};
      \state[example, accepting                               ] (2) at (1,0) {2};
      \state[fill=alert!10                                    ] (3) at (2,1) {3};
      \state[example, structure on=<2->, accepting            ] (4) at (3,1) {4};
      \state[example, alert on=<3->, accepting                ] (5) at (4,2) {5};
      \state[example, accepting                               ] (6) at (4,0) {6};
      \state[example, accepting                               ] (7) at (5,1) {7};
 
      \path (0) edge             node       {$a$} (1);
      \path (0) edge             node[swap] {$b$} (2);
      \path (1) edge[loop above] node       {$a$} (1);
      \path (1) edge             node       {$b$} (5);
      \path (2) edge             node[swap] {$a$} (6);
      \path (2) edge[loop below] node       {$b$} (2);
      \path (3) edge             node[swap] {$a$} (1);
      \path (3) edge             node       {$b$} (2);
      \path (4) edge             node[swap] {$a$} (6);
      \path (4) edge             node[swap] {$b$} (3);
      \path (5) edge             node[swap] {$a$} (4);
      \path (5) edge             node       {$b$} (7);
      \path (6) edge[loop below] node       {$a$} (6);
      \path (6) edge[bend right] node[swap] {$b$} (7);
      \path (7) edge[bend right] node[swap] {$a$} (6);
      \path (7) edge[loop right] node       {$b$} (7);
    \end{tikzpicture}
  }
 
  \on[x=.33\textwidth, top=-3mm]{\footnotesize
    \begin{tabular}{|@{\,\,}l@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|}
      \hline
      \rule{0pt}{1.1em}\structure{\textbf{Entr√©e}} & \multicolumn{8}{c|}{\rule{0pt}{1.1em}\structure{\textbf{\'Etat}}}\\
      & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 \\
      \hline
      \hline
      \structure{$\varepsilon$} & B & B & C & B & C & C & C & C \\
      \hline
      \tableonly<2->{
        \hline
        a & B & B & C & B & C & C & C & C\\
        b & C & C & C & C & B & C & C & C\\
        \hline
        \structure{Bilan} & B & B & D & B & E & D & D & D \\
        \hline
      }\tableonly<3->{
        \hline
        a & B & B & D & B & D & E & D & D\\
        b & D & D & D & D & B & D & D & D\\
        \hline
        \structure{Bilan} & B & B & F & B & E & G & F & F \\
        \hline
      }\tableonly<4->{
        \hline
        a & B & B & F & B & F & E & F & F\\
        b & F & G & F & F & B & F & F & F\\
        \hline
        \structure{Bilan} & H & I & F & H & E & G & F & F \\
        \hline
      }\tableonly<5->{
        \hline
        a & I & I & F & I & F & E & F & F\\
        b & F & G & F & F & H & F & F & F\\
        \hline
        \structure{Bilan} & H & I & F & H & E & G & F & F \\
        \hline
      }
    \end{tabular}
  }    
 
  
  \on[x=-.33\textwidth, bottom]{
    \begin{tikzpicture}[automaton, x=15mm, y=15mm]
      \state[initial, fill=alert!10]      (H) at (0,1) {\oneof[$H$]{\on<-3>{$B$}}};
      \state[accepting, example]            (G) at (1,1) {\oneof[$G$]{\on<1>{$C$}\on<2>{$D$}}};
      \state[accepting, structure, on=<2->] (E) at (1,2) {$E$};
      \state[accepting, alert,     on=<3->] (F) at (2,1) {$F$};
      \state[fill=structure!10,    on=<4->] (I) at (1,0) {$I$};
      
      \path[on=<5->] (I) edge[loop right] node[right] {$a$} (I);
      \path[on=<5->] (G) edge[loop below] node[below] {$a$} (G);
      \path[on=<5->] (H) edge             node[above] {$b$} (G);
      \path[on=<5->] (E) edge             node[right] {$a$} (G);
      \path[on=<5->] (F) edge             node[above] {$b$} (G);
      \path[on=<5->] (H) edge             node[above] {$a$} (I);
      \path[on=<5->] (I) edge             node[above] {$b$} (F);
      \path[on=<5->] (F) edge             node[above] {$a$} (E);
      \path[on=<5->] (E) edge             node[above] {$b$} (H);
    \end{tikzpicture}
  }
  
  \on[x=.25\textwidth, bottom]{\footnotesize
    \begin{tikzpicture}[tree, x=13mm,y=8mm]
      \tree      [node=structure, name=a        ]{$A = \{0,1,2, 3, 4, 5, 6, 7\}$}{
        \tree    [node=alert,     name=b        ]{$B = \{0,1,3\}$}{
          \tree  [node=alert,            on=<4->]{$H = \{0, 3\}$}{}
          \tree  [node=structure,        on=<4->]{$I = \{1\}$}{}
        }                                                     
        \tree    [node=example,   name=c        ]{$C = \{2,4,5,6,7\}$}{
          \tree  [node=example,   name=d,on=<2->]{$D = \{2,5,6,7\}$}{
            \tree[node=alert,            on=<3->]{$F = \{5\}$}{}
            \tree[node=example,          on=<3->]{$G = \{2,6,7\}$}{}
          }                                                         
          \tree  [node=structure,        on=<2->]{$E = \{4\}$}{}
        }
      }
      \node          at([yshift=-5mm]a) {$\varepsilon$};
      \node[on=<4->] at([yshift=-5mm]b) {$b$};
      \node[on=<2->] at([yshift=-5mm]c) {$b$};
      \node[on=<3->] at([yshift=-5mm]d) {$a$};
    \end{tikzpicture}
  }

\end{frame}

\endgroup
