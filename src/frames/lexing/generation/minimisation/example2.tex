% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup


\begin{frame}{Exemple complet}

  \tf[x=-.25\textwidth, top]{\footnotesize
    \begin{tikzpicture}[smAutomaton]
      \smState[\smInitial  \smFill{alert!10}                         ] (0) at (0.4,1.2) {0};
      \smState[            \smFill{alert!10}\smFill<4->{structure!10}] (1) at (1.4,2.2) {1};
      \smState[\smAccepting\smExample                                ] (2) at (1.4,0.2) {2};
      \smState[            \smFill{alert!10}                         ] (3) at (2.4,1.2) {3};
      \smState[\smAccepting\smExample\smStructure<2->                ] (4) at (3.6,1.2) {4};
      \smState[\smAccepting\smExample\smAlert<3->                    ] (5) at (4.6,2.2) {5};
      \smState[\smAccepting\smExample                                ] (6) at (4.6,0.2) {6};
      \smState[\smAccepting\smExample                                ] (7) at (5.6,1.2) {7};

      \smPath (0) edge             node       {$a$} (1);
      \smPath (0) edge             node[swap] {$b$} (2);
      \smPath (1) edge[loop above] node       {$a$} (1);
      \smPath (1) edge             node       {$b$} (5);
      \smPath (2) edge             node[swap] {$a$} (6);
      \smPath (2) edge[loop below] node       {$b$} (2);
      \smPath (3) edge             node[swap] {$a$} (1);
      \smPath (3) edge             node       {$b$} (2);
      \smPath (4) edge             node[swap] {$a$} (6);
      \smPath (4) edge             node[swap] {$b$} (3);
      \smPath (5) edge             node[swap] {$a$} (4);
      \smPath (5) edge             node       {$b$} (7);
      \smPath (6) edge[loop below] node       {$a$} (6);
      \smPath (6) edge[bend right] node[swap] {$b$} (7);
      \smPath (7) edge[bend right] node[swap] {$a$} (6);
      \smPath (7) edge[loop right] node       {$b$} (7);
    \end{tikzpicture}
  }

  \tf[x=.33\textwidth, top=-3mm]{\footnotesize
    \begin{tabular}{|@{\,\,}l@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|@{\,\,}c@{\,\,}|}
      \hline
      \structure{\textbf{Entr√©e}} & \multicolumn{8}{c|}{\structure{\textbf{\'Etat}}}\\
      & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 \\
      \hline
      \hline
      \structure{$\varepsilon$} & B & B & C & B & C & C & C & C \\
      \hline
      \tableonly<2->{
        \hline
        a & B & B & C & B & C & C & C & C\\
        b & C & C & C & C & B & C & C & C\\
        \hline
        \structure{Bilan} & B & B & D & B & E & D & D & D \\
        \hline
      }\tableonly<3->{
        \hline
        a & B & B & D & B & D & E & D & D\\
        b & D & D & D & D & B & D & D & D\\
        \hline
        \structure{Bilan} & B & B & F & B & E & G & F & F \\
        \hline
      }\tableonly<4->{
        \hline
        a & B & B & F & B & F & E & F & F\\
        b & F & G & F & F & B & F & F & F\\
        \hline
        \structure{Bilan} & H & I & F & H & E & G & F & F \\
        \hline
      }\tableonly<5->{
        \hline
        a & I & I & F & I & F & E & F & F\\
        b & F & G & F & F & H & F & F & F\\
        \hline
        \structure{Bilan} & H & I & F & H & E & G & F & F \\
        \hline
      }
    \end{tabular}
  }    

  
  \tf[x=-.33\textwidth, bottom]{\footnotesize
    \begin{tikzpicture}[smAutomaton]
      \smState  [\smInitial\smFill{example!10}] (H) at (0.0,1.2) {\alt<-3>{$B$}{$H$}};
      \smState  [\smAccepting\smExample]        (G) at (1.2,1.2) {\alt<1>{$C$}{\alt<2>{$D$}{$G$}}};
      
      \uncover<2-|handout>{
        \smState[\smAccepting\smAlert]          (E) at (1.2,2.4) {$E$};
      }
      \uncover<3-|handout>{
        \smState[\smAccepting\smStructure]      (F) at (2.4,1.2) {$F$};
      }
      \uncover<4-|handout>{
        \smState[\smFill{alert!10}]             (I) at (1.2,0.0) {$I$};
      }
      
      \uncover<5-|handout>{
        \smPath (I) edge[loop right] node[right] {$a$} (I);
        \smPath (G) edge[loop below] node[below] {$a$}   (G);
        \smPath (H) edge             node[above] {$b$}  (G);
        \smPath (E) edge             node[right] {$a$} (G);
        \smPath (F) edge             node[above] {$b$} (G);
        \smPath (H) edge             node[above] {$a$}  (I);
        \smPath (I) edge             node[above] {$b$} (F);
        \smPath (F) edge             node[above] {$a$} (E);
        \smPath (E) edge             node[above] {$b$} (H);
      }
    \end{tikzpicture}
  }
  
  \tf[x=.25\textwidth, bottom]{\footnotesize
    \begin{tikzpicture}
      \node[structure] (a) at ( 2,2.4) {$A = \{0,1,2, 3, 4, 5, 6, 7\}$};
      \node[alert]     (b) at ( 0,1.6) {$B = \{0,1,3\}$};
      \node[example]   (c) at ( 4,1.6) {$C = \{2,4,5,6,7\}$};
      \node at ([yshift=-5mm]a) {$\varepsilon$};
      \smPath (a) edge (b);
      \smPath (a) edge (c);
      
      \uncover<2-|handout>{
        \node[example]   (d) at ( 3,.8) {$D = \{2,5,6,7\}$};
        \node[structure] (e) at ( 5,.8) {$E = \{4\}$};
        \node at ([yshift=-5mm]c) {$b$};
        \smPath (c) edge (d);
        \smPath (c) edge (e);
      }
      
      \uncover<3-|handout>{
        \node[alert]   (f) at ( 2,0) {$F = \{5\}$};
        \node[example] (g) at ( 4,0) {$G = \{2,6,7\}$};
        \node at ([yshift=-5mm]d) {$a$};
        \smPath (d) edge (f);
        \smPath (d) edge (g);
      }
      
      \uncover<4-|handout>{
        \node[alert]     (h) at (-1,.8) {$H = \{0, 3\}$};
        \node[structure] (i) at ( 1,.8) {$I = \{1\}$};
        \node at ([yshift=-5mm]b) {$b$};
        \smPath (b) edge (h);
        \smPath (b) edge (i);
      }
    \end{tikzpicture}
  }

\end{frame}


\endgroup
