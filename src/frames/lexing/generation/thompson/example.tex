% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Exemple}

  \tf[y=27mm]{Trouver un automate qui reconna√Æt}
  \tf[y=20mm]{\Large $\structure{a} \cdot \alert{(\structure{b} \example{|} \structure{c})^\star}$}

  \tf[y=-5mm]{
    \begin{tikzpicture}[smAutomaton]

      \only<2-4>{
        \draw[rounded corners, draw=black!30, fill=black!10] (-1.1, 1.3) rectangle (2.2,2.7);
        \draw[structure]                                     (-1.1, 1.3) node[above right]{$a$};
      }
      \only<2>{
        \draw[rounded corners, draw=black!30, fill=black!10] ( 3.9, 1.3) rectangle (7.2,2.7);
        \draw[structure]                                     ( 3.9, 1.3) node[above right]{$b$};
      }
      \only<2>{
        \draw[rounded corners, draw=black!30, fill=black!10] ( 3.9,-0.7) rectangle (7.2,0.7);
        \draw[structure]                                     ( 3.9,-0.7) node[above right]{$c$};
      }
      \only<3>{
        \draw[rounded corners, draw=black!30, fill=black!10] ( 2.9,-0.7) rectangle (8.2,2.7);
        \draw[example]                                       ( 2.9,-0.7) node[above right]{$b|c$};
      }
      \only<4>{
        \draw[rounded corners, draw=black!30, fill=black!10] ( 2.4,-0.7) rectangle (8.2,2.7);
        \draw[alert]                                         ( 8.2, 2.7) node[below left]{$(b|c)^\star$};
      }
      \uncover<5-|handout> {
        \draw[rounded corners, draw=black!30, fill=black!10] (-1.1,-0.7) rectangle (8.2,2.7);
        \draw                                                (-1.1,-0.7) node[above right]{$a \cdot (b|c)^\star$};
      }
        
      \smState<2-|handout>[\smInitial         \smStructure] (1)  at (0.0, 2.0) {$1$};
      \smState<2-|handout>[\smAccepting<-4>   \smStructure] (2)  at (1.5, 2.0) {$2$};
      \smState<2-|handout>[\smInitial<2>      \smStructure] (3)  at (5.0, 2.0) {$3$};
      \smState<2-|handout>[\smAccepting<2>    \smStructure] (4)  at (6.5, 2.0) {$4$};
      \smState<2-|handout>[\smInitial<2>      \smStructure] (5)  at (5.0, 0.0) {$5$};
      \smState<2-|handout>[\smAccepting<2>    \smStructure] (6)  at (6.5, 0.0) {$6$};
      \smState<3-|handout>[\smInitial<3>      \smExample  ] (7)  at (4.0, 1.0) {$7$};
      \smState<3-|handout>[\smAccepting<3>    \smExample  ] (8)  at (7.5, 1.0) {$8$};
      \smState<4-|handout>[\smInitialRight<4> \smAlert    ] (9)  at (3.0, 2.0) {$9$};
      \smState<4-|handout>[\smAccepting       \smAlert    ] (10) at (3.0, 0.0) {$10$};
      
      \smPath<2-|handout>[\smStructure] (1) edge node {$a$}           (2);
      \smPath<2-|handout>[\smStructure] (3) edge node {$b$}           (4);
      \smPath<2-|handout>[\smStructure] (5) edge node {$c$}           (6);
      \smPath<3-|handout>[\smExample]   (7) edge node {$\varepsilon$} (3);
      \smPath<3-|handout>[\smExample]   (7) edge node {$\varepsilon$} (5);
      \smPath<3-|handout>[\smExample]   (4) edge node {$\varepsilon$} (8);
      \smPath<3-|handout>[\smExample]   (6) edge node {$\varepsilon$} (8);
      \smPath<4-|handout>[\smAlert]     (9) edge node {$\varepsilon$} (7);
      \smPath<4-|handout>[\smAlert]     (8) edge node {$\varepsilon$} (7);
      \smPath<4-|handout>[\smAlert]     (7) edge node {$\varepsilon$} (10);
      \smPath<5-|handout>               (2) edge node {$\varepsilon$} (9);
    \end{tikzpicture}
  }

\end{frame}

\endgroup
