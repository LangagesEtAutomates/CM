% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Génération d'analyseur lexical}

  \tfBlock[top=-5mm]{Problème}{
    \begin{description}
    \item[Entrée :] une expression rationnelle $r$
    \item[Sortie :] un \alert{analyseur lexical} pour le langage $\mathcal{L}(r)$
      \begin{itemize}
      \item Programme qui décide si son entrée appartient à $\mathcal{L}(r)$
      \end{itemize}
    \end{description}
  }

  \tf[y=-1mm]{\footnotesize
    \begin{tikzpicture}
      \small
      \node[smBox, minimum width=2.4cm, minimum height=1cm] (exp) at (0,1.7) {Expression\\rationnelle};
      \node[smBox, minimum width=2.4cm, minimum height=1cm] (lex) at (8,1.7) {Analyseur\\lexical};
      \node[smBox, minimum width=2.4cm, minimum height=1cm] (nfa) at (0,0.0) {Automate fini\\non-déterministe};
      \node[smBox, minimum width=2.4cm, minimum height=1cm, alert, fill=alert!20] (dfa) at (4,0.0) {Automate fini\\déterministe};
      \node[smBox, minimum width=2.4cm, minimum height=1cm] (min) at (8,0.0) {Automate fini\\minimal};

      \node[example, above] at (exp.north) {$a (b|c)^\star$};
      \node[example, above] at (lex.north) {$abc \rightarrow \cmark$, $bac \rightarrow \xmark$ };
      
      \tiny
      \path[-latex, structure,dashed] (exp) edge                                                                        (lex);
      \path[-latex, structure]        (exp) edge[bend left] node[right, align=left] {Algorithme de\\Thompson}           (nfa);
      \path[-latex, structure]        (nfa) edge[bend left] node[left, align=right] {Lemme\\d'Arden}                    (exp);
      \path[-latex, alert    ]        (nfa) edge            node[align=center]      {Sous-ensembles\\de Rabin \& Scott} (dfa);
      \path[-latex,          ]        (dfa) edge            node[align=center]      {Méthode de\\Moore}                 (min);
      \path[-latex           ]        (min) edge            node[left, align=right] {Transcription}                     (lex);
    \end{tikzpicture}
  }
  
  \tf[y=-30mm, x=-.33\textwidth,scale=.9]{\tiny
    \begin{tikzpicture}[smAutomaton, node distance=1cm, example]
      \smState[\smExample\smInitialRight] (a) {$1$};
      \smState[\smExample            ] (c) [above right=of a] {$9$};
      \smState[\smExample            ] (d) [below right=of c] {$7$};
      \smState[\smExample            ] (e) [above=of d]       {$3$};
      \smState[\smExample            ] (f) [right=of e]       {$4$};
      \smState[\smExample            ] (g) [below=of d]       {$5$};
      \smState[\smExample            ] (h) [right=of g]       {$6$};
      \smState[\smExample            ] (i) [below=of f]       {$8$};
      \smState[\smExample\smAccepting] (j) [below left=of d]  {$10$};

      \smPath (a) edge node       {$a$} (c);
      \smPath (e) edge node[swap] {$b$} (f);
      \smPath (g) edge node       {$c$} (h);
      \smPath (d) edge node[swap] {$\varepsilon$} (e);
      \smPath (d) edge node       {$\varepsilon$} (g);
      \smPath (f) edge node[swap] {$\varepsilon$} (i);
      \smPath (h) edge node       {$\varepsilon$} (i);
      \smPath (i) edge node       {$\varepsilon$} (d);
      \smPath (c) edge node       {$\varepsilon$} (d);
      \smPath (d) edge node       {$\varepsilon$} (j);
    \end{tikzpicture}
  }
  
  \tf[y=-30mm,scale=.9]{\tiny
    \begin{tikzpicture}[smAutomaton, node distance=1cm, example]
      \smState[\smExample\smInitial]   (a)                    {$1$};
      \smState[\smExample\smAccepting] (b) [below of=a]       {$2$};
      \smState[\smExample\smAccepting] (c) [above right of=b] {$3$};
      \smState[\smExample\smAccepting] (d) [below right of=b] {$4$};

      \smPath  (a) edge             node[swap] {$a$} (b);
      \smPath  (b) edge             node       {$b$} (c);
      \smPath  (b) edge             node[swap] {$c$} (d);
      \smPath  (c) edge[bend left]  node       {$c$} (d);
      \smPath  (d) edge             node       {$b$} (c);
      \smPath  (c) edge[loop right] node       {$b$} (c);
      \smPath  (d) edge[loop right] node       {$c$} (d);
    \end{tikzpicture}
  }
  
  \tf[y=-30mm, x=.33\textwidth,scale=.9]{\tiny
    \begin{tikzpicture}[smAutomaton, node distance=1cm, example]
      \smState[\smExample\smInitial]   (a) {$1$};
      \smState[\smExample\smAccepting] (b) [right of=a] {$2$};

      \smPath  (a) edge             node {$a$} (b);
      \smPath  (b) edge[loop above] node {$b$} (b);
      \smPath  (b) edge[loop below] node {$c$} (b);
    \end{tikzpicture}
  }

\end{frame}

\endgroup
